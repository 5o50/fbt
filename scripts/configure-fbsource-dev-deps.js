/**
 * @generated SignedSource<<fde8d377831f89a038d29756002e9638>>
 * @codegen-command : phps FBSyncAll
 *
 * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 * !! This file is synchronized from fbsource. You should not     !!
 * !! modify it directly. Instead:                                !!
 * !!                                                             !!
 * !! 1) Update this file on fbsource and land your change there. !!
 * !! 2) A sync diff should be created and accepted automatically !!
 * !!    within 30 minutes that copies the changes you made on    !!
 * !!    fbsource to www. All that's left is to verify the        !!
 * !!    revision is good land it on www.                         !!
 * !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 *
 */
#!/usr/bin/env node
/**
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */

'use strict';

/**
 * This script updates several package.json dependencies so that they point to local checkouts
 * in the Facebook monorepo instead of their published npm counterparts. Use this during development
 * to ensure rn-demo-app is consuming React Native from source instead of a published release.
 * Do not commit the changes generated by this file.
 */
const fs = require('fs');
const {cat, exit} = require('shelljs');

let packageJson = JSON.parse(cat('package.json'));

// Update react-native dependency
delete packageJson.dependencies['react-native'];
packageJson.dependencies = {...packageJson.dependencies, 'react-native': 'file:../../../js/react-native-github'};

// Update react-native-fbt dependency
delete packageJson.devDependencies['react-native-fbt'];
packageJson.devDependencies = {...packageJson.devDependencies, 'react-native-fbt': 'file:../packages/react-native-fbt'};

fs.writeFileSync('package.json', JSON.stringify(packageJson, null, 2), 'utf-8');
exit(0);
